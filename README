Buildhistory warnings web interface
===================================

This is a small Django-based web application that allows you to process
the repository generated by the buildhistory feature in OpenEmbedded
(OE-Core) and review any generated warnings about potential issues.

For more information on buildhistory, see the following page:

  https://wiki.yoctoproject.org/wiki/Buildhistory


Setup
-----

In order to make use of this application you will need:

* A web server set up to host Django applications
* A database supported by Django (SQLite, MySQL, etc.). Django takes
  care of creating the database itself, you just need to ensure that the
  database server (if not using SQLite) is configured and running.
* On the machine that will run the import script (which does not have to
  be the same machine as the web server - could be the build machine;
  however it does still have to have Django installed and have access
  to the database used by the web application):
  * Access to (a clone of) the buildhistory git repository produced by
    the build system
  * Python 2.6 or Python 2.7
  * A copy of BitBake and OE-Core (or Poky, which includes both) -
    the "danny" release or newer is required.
  * GitPython (python-git) version 0.3.1 or later
* django-registration

Setup instructions:

1. Edit settings.py to specify a database, EMAIL_HOST and other settings
   specific to your installation.

2. Run the following command within the buildhistory-web directory to
   initialise the database:

   python manage.py syncdb

3. You can test the web application locally by running the following:

   python manage.py runserver

   Then visit http://127.0.0.1:8000/warningmgr/ with your browser. This
   should only be used for testing - for production you need to use a
   proper web server.


Usage
-----

On a regular basis (either scheduled, or after each build) you need to
run warningmgr/import.py, specifying the git sha1 hash from the
buildhistory repository the last time the script was run (since the
script will analyse commits after that one), then record the latest
hash ready for the next time.

You can then review any warnings generated by accessing the web
application.


Maintenance
-----------

The latest version of the code can always be found here:

  http://git.yoctoproject.org/cgit/cgit.cgi/buildhistory-web/

Send patches / pull requests to yocto@yoctoproject.org with
'[buildhistory-web]' in the subject.


License
-------

This application is based upon the Django project template, whose files
are covered by the BSD license and are copyright (c) Django Software
Foundation and individual contributors.

Bundled Twitter Bootstrap (including Glyphicons) is redistributed under
the Apache License 2.0.

Bundled jQuery is redistributed under the MIT license.

All other content is copyright (C) 2012 Intel Corporation and licensed
under the MIT license - see COPYING.MIT for details.

